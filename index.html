<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Medium-Feed</title>
    <meta name="author" content="Caden Sumner" />
    <meta
      name="description"
      content="A simple utility to get article objects for any Medium user."
    />
    <meta name="keywords" content="medium-feed,demo-site" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/mustard-ui@latest/dist/css/mustard-ui.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism-twilight.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.min.js"></script>
    <script src="lib/medium-feed.js" type="text/javascript"></script>
  </head>
  <body>
    <div id="information">
      <div class="container container-medium">
        <div class="col col-sm-6">
          <div class="panel">
            <div class="panel-head">
              <h2 class="panel-title">ðŸ“° Medium-Feed ðŸ‘€</h2>
            </div>
            <div class="panel-body">
              <p>
                A simple utility to get a list of articles for any Medium feed,
                including the ability to get user feeds, topic feeds, and tag
                feeds. <br />
                Additionally allows for both synchronous & asynchronous usage,
                and a CORS proxy for local development.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="usage">
      <div class="container container-large">
        <div class="col col-12">
          <div class="panel">
            <div class="panel-head"><h2 class="panel-title">Usage</h2></div>
            <div class="panel-body">
              <h4>Initialize a feed:</h4>
              <pre><code class="language-javascript">var mediumFeed = new MediumFeed();
mediumFeed.development = true; //Optionally enable development mode for a CORS proxy

var mediumFeed = new MediumFeed({development: true}); //Enables a CORS proxy for localhost development via options object
</code></pre>
              <br />
              <h4>Get articles:</h4>
              <pre><code class="language-javascript">mediumFeed.getUserFeed("caden"); //Pass username of the feed you want
mediumFeed.getTopicFeed("technology"); //Pass topic (see: https://medium.com/topics)
mediumFeed.getTagFeed("reactjs"); //Pass a specific tag</code></pre>

              <br />
              <h4>Asynchronous:</h4>
              <pre><code class="language-javascript">function alertCount(articles){alert(articles.length)} // function to print # of articles returned
mediumFeed.getUserFeed("caden", alertCount); //Pass a callback as second param</code></pre>

              <br />
              <h4>MediumArticle:</h4>
              The MediumFeed functions return arrays of "MediumArticle" objects
              which contain the following (if available):
              <pre><code class="language-javascript">class MediumArticle {
  title //String
  link //String
  creator //String
  pubDate //Date
  content //String
  categories //Array of Strings
}</code></pre>
            </div>
          </div>
        </div>
        <div id="demo">
          <div class="container container-medium">
            <div class="col col-12">
              <div class="panel">
                <div class="panel-head">
                  <h2 class="panel-title">Demo & Final Notes</h2>
                </div>
                <div class="panel-body">
                  <p>Please note: medium-feed makes <b>no</b> assumptions on your styling and therefore only returns what the Medium api gives us.
                  However, Medium does return some articles with styling, you can attempt to override their styles using the following css attributes
                  but there is <em>no guarantee</em> that these will be stable or will not change in the future.
                  </p>
                  <pre><code class="language-css">/* the containing div for medium-feed-snippet & medium-feed-link */
.medium-feed-item{}
/* the image (often feature image) */
.medium-feed-image{}
/* the snippet text of the article */
.medium-feed-snippet{} 
/* a link to continue reading on Medium */
.medium-feed-link{} 
</code></pre>
                <br/>
                  <p>Some final notes: getUserFeed() returns more 'content' (potentially the full article) 
                  than topics/tags, and returns HTML without the Medium css mentioned above.
                  <br/> 
                  I recommend truncating the retunred content if you just want a 'snippet', and applying your own HTML-element based css as needed.</p>
                <br/>
                  <p>Below is the <b>topic</b> feed for 'technology' rendered with simple styling.</p>
                </div>
              </div>
              <br/>
              <hr/>
              <br/>
            </div>
          <div id="demo-articles" class="container container-small"></div>
      </div>
    </div>
    <div class="container">
      <div class="col col-sm-12 coffee">
        <a href="https://www.buymeacoffee.com/caden" target="_blank"
          ><img src="https://i.imgur.com/I80eQwg.png"
        /></a>
      </div>
    </div>
  </body>
  <script>
    document.onreadystatechange = function () {
        if (document.readyState == "interactive") {
          let _mediumFeed = new MediumFeed();
          _mediumFeed.development = true;
          let a = _mediumFeed.getTopicFeed('technology');
          a.forEach(article => {
            let n = document.createElement('div');
            n.innerHTML = `
                <div class="panel">
                  <div class="panel-head">
                    <h2 class="panel-title">${article.title}</h2>
                  </div>
                  <div class="panel-body">
                      <p class="article">${article.content}</p>
                      <a href="${article.link}" target="_blank" class="read-medium button button-primary">ðŸ‘€ Read on Medium ðŸ“ƒ</a>
                  </div>
              </div>
            `;
            document.getElementById('demo-articles').appendChild(n);
          })
        }
      }
  </script>
  <style>
    /* Begin Medium-Feed Demo Styling */
    .medium-feed-image img {
      height: auto;
      width: 100%;
      max-height: 300px;
      object-fit: cover;
    }
    .medium-feed-link {
      display: none;
    }
    .read-medium {
      display: block;
      text-align: center;
    }
    #demo-articles div .panel .panel-body {
      padding-top: 0;
      margin-top: 0;
    }
    #demo-articles div .panel .panel-head {
      padding-bottom: 0;
      margin-bottom: 0;
    }
    /* End Medium-Feed Demo Styling */

    .coffee {
      text-align: center;
      margin: 0 auto;
    }
  </style>
</html>
