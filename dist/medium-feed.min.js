class MediumFeed{constructor(e){this._baseUrl="https://medium.com/feed",this._devUrl="https://cors-anywhere.herokuapp.com/",e=e||{},this.useProxy=e.useProxy||!1}getArticles(e,t,s){let r=[],n=void 0!==t,i=e;this.useProxy&&(i=this._devUrl+e);let o=new XMLHttpRequest;return"withCredentials"in o?o.open("GET",i,n):"undefined"!=typeof XDomainRequest?(o=new XDomainRequest).open("GET",i):console.error("Error: CORS not supported."),o.onload=function(){if(o.readyState===o.DONE&&200===o.status){!function(e,t,s){let r=e.getElementsByTagName("item");for(let e=0;e<r.length;e++){let n={};n.title=r[e].getElementsByTagName("title")[0].childNodes[0].nodeValue,n.link=r[e].getElementsByTagName("link")[0].childNodes[0].nodeValue,n.creator=r[e].getElementsByTagName("dc:creator")[0].childNodes[0].nodeValue,n.pubDate=new Date(r[e].getElementsByTagName("pubDate")[0].childNodes[0].nodeValue);let i="";switch(s){case"user":i="content:encoded";break;case"topic":case"tag":i="description"}n.content=r[e].getElementsByTagName(i)[0].childNodes[0].nodeValue;const o=n.content.slice(n.content.indexOf("<img"),n.content.indexOf("</figure>"));n.image=o.slice(o.indexOf('src="')+5,o.indexOf('" />')),n.categories=function(){let t=[];return Array.prototype.slice.call(r[e].getElementsByTagName("category")).forEach(e=>{t.push(e.textContent)}),t}(),t.push(new MediumArticle(n))}}(o.responseXML,r,s),n&&t(r)}},o.send(),r}getUserFeed(e,t){if(e)return this.getArticles(`${this._baseUrl}/@${e}`,t,"user");console.error("Error: Please pass a username.","user")}getTopicFeed(e,t){if(e)return this.getArticles(`${this._baseUrl}/topic/${e}`,t,"topic");console.error("Error: Please pass a topic.")}getTagFeed(e,t){if(e)return this.getArticles(`${this._baseUrl}/tag/${e}`,t,"tag");console.error("Error: Please pass a tag.")}}class MediumArticle{constructor(e){e=e||{},this.title=e.title||null,this.link=e.link||null,this.creator=e.creator||null,this.pubDate=e.pubDate||null,this.content=e.content||null,this.categories=e.categories||[],this.image=e.image||null}}export default MediumFeed;