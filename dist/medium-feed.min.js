class MediumFeed{constructor(e){this._baseUrl="https://medium.com/feed",this._devUrl="https://cors-anywhere.herokuapp.com/",e=e||{},this.development=e.development||!1}getArticles(e,t,s,o){let r=[],l=void 0!==s,n=null;if(t.development){let t=window.location.hostname;"localhost"!==t&&"127.0.0.1"!==t&&""!==t||(n=this._devUrl+e)}let a=new XMLHttpRequest;return"withCredentials"in a?a.open("GET",n,l):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest).open("GET",n):console.error("Error: CORS not supported."),a.onload=function(){if(a.readyState===a.DONE&&200===a.status){!function(e,t,s){console.log(e);let o=e.getElementsByTagName("item");for(let e=0;e<o.length;e++){let r={};r.title=o[e].getElementsByTagName("title")[0].childNodes[0].nodeValue,r.link=o[e].getElementsByTagName("link")[0].childNodes[0].nodeValue,r.creator=o[e].getElementsByTagName("dc:creator")[0].childNodes[0].nodeValue,r.pubDate=new Date(o[e].getElementsByTagName("pubDate")[0].childNodes[0].nodeValue);let l="";switch(s){case"user":l="content:encoded";break;case"topic":case"tag":l="description"}r.content=o[e].getElementsByTagName(l)[0].childNodes[0].nodeValue,r.categories=function(){var t=[];return Array.prototype.slice.call(o[e].getElementsByTagName("category")).forEach(e=>{t.push(e.textContent)}),t}(),t.push(new MediumArticle(r))}}(a.responseXML,r,o),s&&s(r)}},a.onerror=function(){console.error("Error: Request failed.")},a.send(),r}getUserFeed(e,t){if(e)return this.getArticles(`${this._baseUrl}/@${e}`,this,t,"user");console.error("Error: Please pass a username.","user")}getTopicFeed(e,t){if(e)return this.getArticles(`${this._baseUrl}/topic/${e}`,this,t,"topic");console.error("Error: Please pass a topic.")}getTagFeed(e,t){if(e)return this.getArticles(`${this._baseUrl}/tag/${e}`,this,t,"tag");console.error("Error: Please pass a tag.")}}class MediumArticle{constructor(e){e=e||{},this.title=e.title||null,this.link=e.link||null,this.creator=e.creator||null,this.pubDate=e.pubDate||null,this.content=e.content||null,this.categories=e.categories||[]}}